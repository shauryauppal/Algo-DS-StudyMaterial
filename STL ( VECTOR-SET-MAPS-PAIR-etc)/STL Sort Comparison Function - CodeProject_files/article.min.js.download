function NavBarMenu(n,t){var o=this,s=100,h=500,r=0,c=0,i=0,u=0,l=n,f=t,a=function(){r&&(window.clearTimeout(r),r=null)},v=function(){a();e();u&&(i=$(u).addClass("open"))},e=function(){if(i){if(i.attr("over")||i.find("[over=true]").length>0)return;i.removeClass("open");i.parents("[over!=true].open").removeClass("open")}if(i){var n=i.parents("[over=true]");i=n.length>0?$(n[0]):null}},y=function(){u=this;r=window.setTimeout(v,i?0:s)},p=function(){u=0;c=window.setTimeout(e,h)};$&&$.support.opacity&&$(document).ready(function(){eval(l+".InitMenu();")}).click(o.CloseMenu);this.InitMenu=function(){"ontouchstart"in window||navigator.msMaxTouchPoints||navigator.userAgent.toLowerCase().match(/windows phone os 7/i)?$(f).doubleTapToGo():($(f+".openable").removeClass("openable").hover(y,p),$(f).hover(function(){$(this).attr("over","true")},function(){$(this).removeAttr("over")}))};this.ShowMap=function(n,t){var i=$("#"+t);n.populated||n.populating||(n.populating=!0,i.css({height:"200px",width:"100px"}),i.load("/script/content/Ajax/SiteMap.aspx",function(){n.populated=!0}),window.setTimeout(this.InitMenu,200),n.populated=!0,n.populating=!1);n.populated&&(this.InitMenu(),i.css("margin","0"),i.css("width","auto"),i.css("height","auto"))};$.fn.doubleTapToGo=function(){return!("ontouchstart"in window)&&!navigator.msMaxTouchPoints&&!navigator.userAgent.toLowerCase().match(/windows phone os 7/i)?!1:(this.each(function(){if($(this).hasClass("openable")){var n=!1,t=!1;$(this).bind("touchstart click",function(i){var r=$(this);t&&r.hasClass("openable")&&r[0]!=n[0]&&(i.preventDefault(),n=r,t=!1);i.type==="touchstart"&&(t=!0)});$(document).bind("click touchstart MSPointerDown",function(t){for(var r=!0,u=$(t.target).parents(),i=0;i<u.length;i++)u[i]==n[0]&&(r=!1);r&&(n=!1)})}}),this)}}function InitWatermark(n,t){var i=$("#"+n),r;i&&(i.blur(function(){UpdateWatermark(this,t)}),i.focus(function(){UpdateWatermark(this,t)}),r=$.trim(i.val()),r==""||r==t?(i.val(t),i.addClass("subdue")):r!=""&&r!=t&&i.removeClass("subdue"))}function UpdateWatermark(n,t){if(n){var i=$.trim($(n).val());i==t&&$(n).hasClass("subdue")?($(n).val(""),$(n).removeClass("subdue")):i!=""||$(n).hasClass("subdue")?$(n).removeClass("subdue"):($(n).val(t),$(n).addClass("subdue"))}}function NotificationAlert(n,t,i){var o=this,r=$("#"+n),u=$("#"+t),f=i,e=function(){r.populated||r.populating||(r.populating=!0,u.load(f,{cache:!1},function(){r.populated=!0}),r.populated=!0,r.populating=!1)};this.MarkAsRead=function(n,t,i,r){var u=$("#"+i),f=u.html();return u.html('<img src="/images/animated_loading_blue.gif" align="absmiddle" style="border:0" />'),$.ajax({type:"POST",cache:!1,url:t,data:"{notificationId: "+n+"}",contentType:"application/json; charset=utf-8",dataType:"json",tryCount:0,retryLimit:3,timeout:5e3,success:function(){u.remove();$("#"+r).children().first().removeClass("bold")},error:function(){u.html(f)}}),!1};this.initialise=function(){$(r).bind("mouseover",e)}}function UpdateArticleEditStatus(n,t,i,r){var u=$("#"+i),f=u.html();return u.html('<img src="/images/animated_loading_blue.gif" align="absmiddle" />'),$.ajax({type:"POST",cache:!1,url:t,data:"{articleId: "+n+"}",contentType:"application/json; charset=utf-8",dataType:"json",tryCount:0,retryLimit:3,timeout:5e3,success:function(n){u.remove();$("#"+r).html(n.d)},error:function(){u.html(f);$("#"+r).html("Error")}}),!1}function WrapMe(n,t,i,r){var f,e="",u=0,s=n.toLowerCase(),o=t.length;for(t=t.toLowerCase();(f=s.indexOf(t,u))>=0;)e+=n.substr(u,f-u),e+=i+n.substr(f,o)+r,u=f+o;return e+n.substr(u)}function markText(n,t){for(var u=new RegExp("(<[^>][^<]*>)([^<]*)","g"),i,r=new String("");(i=u.exec(t.toString()))!=null;)r+=i[1],r+=WrapMe(i[2],n,'<span class="search-highlight">',"<\/span>");return r}function unmarkText(n,t){if(elemObj=document.getElementById(n),elemObj){var i=new RegExp('<span class="?search-highlight"?>([^<]*)?<\/span>',"gi");elemObj.parentNode.innerHTML=elemObj.parentNode.innerHTML.replace(i,"$1")}t&&(elemObj=document.getElementById(t),elemObj&&(elemObj.className+=" hidden"))}function markTextInElement(n,t){elemObj=document.getElementById(t);elemObj&&(elemObj.parentNode.innerHTML=markText(n,elemObj.parentNode.innerHTML))}function social(){this.txtVersion="1.2";this.addtoInterval=null;this.popupWin="";this.addtoMethod=1;this.AddTitle=null;this.AddURL=null;this.Horizontal=!1;this.Showname=!1;this.ObjectTypeId=0;this.ObjectId=0;this.PlaceholderId="";this.sns=[{name:"Twitter",image:"AddTo_Twitter.gif",url:"http://twitter.com/home?",urlVar:"status",titleVar:"",noteVar:"",urlPre:"Currently reading ",returnVar:"",otherVars:""},{name:"Digg",image:"AddTo_Digg.png",url:"http://digg.com/submit?",urlVar:"url",titleVar:"",noteVar:"",urlPre:"",returnVar:"",otherVars:"&phase=2"},{name:"Facebook",image:"AddTo_Facebook.png",url:"http://www.facebook.com/sharer.php?",urlVar:"u",titleVar:"t",noteVar:"",urlPre:"",returnVar:"",otherVars:""},{name:"Del.icio.us",image:"AddTo_Delicious.png",url:"http://del.icio.us/post?",urlVar:"url",titleVar:"title",noteVar:"",urlPre:"",returnVar:"",otherVars:""},{name:"Reddit",image:"AddTo_Reddit.png",url:"http://reddit.com/submit?",urlVar:"url",titleVar:"title",noteVar:"",urlPre:"",returnVar:"",otherVars:""},{name:"Stumbleupon",image:"AddTo_stumbleupon.png",url:"http://www.stumbleupon.com/submit?",urlVar:"url",titleVar:"title",noteVar:"",urlPre:"",returnVar:"",otherVars:""},{name:"Newsvine",image:"AddTo_Newsvine.png",url:"http://www.newsvine.com/_wine/save?",urlVar:"u",titleVar:"",noteVar:"",urlPre:"",returnVar:"",otherVars:"&popoff=0"},{name:"Technorati",image:"AddTo_Technorati.png",url:"http://technorati.com/faves?",urlVar:"add",titleVar:"",noteVar:"",urlPre:"",returnVar:"",otherVars:""},{name:"Mr. Wong",image:"AddTo_MrWong.png",url:"http://www.mister-wong.com/index.php?",urlVar:"bm_url",titleVar:"bm_description",noteVar:"",urlPre:"",returnVar:"",otherVars:"&action=addurl"},{name:"Yahoo!",image:"AddTo_Yahoo.png",url:"http://myweb2.search.yahoo.com/myresults/bookmarklet?",urlVar:"u",titleVar:"t",noteVar:"",urlPre:"",returnVar:"",otherVars:"&d=&ei=UTF-8"},{name:"Google",image:"AddTo_Google.png",url:"http://www.google.com/bookmarks/mark?",urlVar:"bkmk",titleVar:"title",noteVar:"",urlPre:"",returnVar:"",otherVars:"&op=edit"},{name:"Windows Live",image:"AddTo_Live.png",url:"https://favorites.live.com/quickadd.aspx?",urlVar:"url",titleVar:"title",noteVar:"",urlPre:"",returnVar:"",otherVars:"&marklet=1&mkt=en-us&top=1"},{name:"Send as Email",image:"envelope.gif",url:"/script/common/TellFriend.aspx?obtid={0}&obid={1}&",urlVar:"",titleVar:"",noteVar:"",prefix:"",returnVar:"",otherVars:""}];this.DrawLink=function(n,t,i){var u=t==this.sns.length-1?"":"Add this page to ",r='<a class="'+i+'" title="'+u+this.sns[t].name+'" onclick="return '+n+".addto("+t.toString()+');" href="#"><img align="absmiddle" src="/images/'+this.sns[t].image+'" width="16px" height="16px" border="0" /> ';return this.Showname&&(r+=this.sns[t].name),r+"<\/a> "};this.setupLinks=function(n,t,i,r,u,f,e){var s,o="";if(this.AddTitle=i,this.AddURL=t,r>this.sns.length)for(this.Horizontal&&(o+='<span class="'+f+'">Add this article to: <\/span> '),s=0;s<this.sns.length;s++)this.Horizontal||(o+="<div>"),o+=this.DrawLink(n,s,e),o+=this.Horizontal?" ":"<\/div>";else{for(o+='<table width="'+u.toString()+'" border="0" cellspacing="0" cellpadding="0"><tr><tr><td colspan="'+r.toString()+'" class="'+f+'" height="20">Add this article to:<\/td><\/tr>\n',s=0;s<this.sns.length;s++)o+='<td valign="middle">',o+=this.DrawLink(n,s,e),o+="<\/td>",(s+1)%r==0&&s!=this.sns.length-1&&(o+="<\/tr><tr>");o+="<\/td><\/tr><\/table>"}$("#ATD")[0]&&($("#ATD")[0].innerHTML=o)};this.addtoWin=function(n){return this.popupWin&&!this.popupWin.closed&&this.popupWin.location?this.popupWin.location.href=n:(this.popupWin=window.open(n,"addtoPopUp","width=770px,height=500px,menubar=1,toolbar=1,status=1,location=1,resizable=1,scrollbars=1,left=0,top=100"),this.popupWin.opener||(this.popupWin.opener=self)),window.focus&&this.popupWin.focus(),!1};this.closeAddTo=function(){if(!this.popupWin.closed&&this.popupWin.location)this.popupWin.location.href==this.AddURL&&this.popupWin.close();else return clearInterval(this.addtoInterval),!0};this.addto=function(n){var i,t;this.AddURL||(this.AddURL=document.location.href);this.AddTitle||(this.AddTitle=escape(document.title));i=this.sns[n].url.replace("{0}",this.ObjectTypeId.toString());i=i.replace("{1}",this.ObjectId.toString());t=i;t+=this.sns[n].urlVar+"="+escape(this.sns[n].urlPre)+this.AddURL;this.sns[n].titleVar!=""&&(t+="&"+this.sns[n].titleVar+"="+this.AddTitle);t+=this.sns[n].otherVars;this.sns[n].noteVar!=""&&(t+="&"+this.sns[n].noteVar+"="+this.AddTitle);this.sns[n].returnVar!=""&&(t+="&"+this.sns[n].returnVar+"="+this.AddURL);switch(this.addtoMethod){case 0:self.location=t;break;case 1:this.addtoWin(t)}return!1};this.setupMenu=function(){var n=!1;$(document).ready(function(){var i=$("#SBI"),t=$("#ATD");if(i.length&&t.length){var r=$(i).position(),u=$(i).outerWidth(),f=$(t).outerWidth(),e=$(i).outerHeight(),o=r.left+(u-f)/2+"px",s=e+r.top+"px";$(t).css({left:o,top:s});$(i).hover(function(){$(t).stop(!0,!0).fadeIn("fast")},function(){setTimeout(function(){n||$("#ATD").fadeOut("fast")},200)});$(t).hover(function(){n=!0},function(){n=!1;$(t).fadeOut("fast")})}})}}function getInternetExplorerVersion(){var n=-1,t,i;return navigator.appName=="Microsoft Internet Explorer"&&(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),i.exec(t)!=null&&(n=parseFloat(RegExp.$1))),n}function rateItem(n,t,i,r,u,f,e){if(n>0&&t>0){var s=$("div[name=RateItem_"+n+"]").find("input[type=radio]:checked").val(),o=$("[name=RateItem_"+n+"] .RateComment")[0];o=o?o.value.replace(/^\s+|\s+$/g,""):"";s<=0?ShowErrorMessage("You must select a value to vote",n):s<=f&&o==""&&r&&u?ShowErrorMessage("You must provide a comment",n):(u||s>f)&&(PrepElements(n),$.get("/Script/Ratings/Ajax/RateItem.aspx?obid="+n+"&obtid="+t+"&obstid="+i+"&rvv="+s+"&rvc="+escape(o)+(e?"&rdm="+e:""),function(t){ratingAjaxCallback(t,n)}))}return!1}function ratingAjaxCallback(n,t){var i,r;n.length>0&&(i=$("div[name=RateItem_"+t+"] .rating-result span")[0],i&&(i.innerHTML=n,i.style.display=""),i=$("[name=CurRat_"+t+"]")[0],i&&(i.style.display="none"));r=$("div[name=RateItem_"+t+"] .loaderImg")[0];$("div[name=RateItem_"+t+"] .ajaxHist").remove();r&&r.style&&(r.style.display="none");$(".rating-comment").remove()}function PrepElements(n){var t=$("div[name=RateItem_"+n+"] .loaderImg")[0];t&&t.style.display=="none"&&(t.style.display="");t=$("div[name=RateItem_"+n+"] .voteTbl")[0];t&&(t.style.display="none");t=$("div[name=RateItem_"+n+"] .rating-result span")[0];t&&(t.style.display="none");t=$("div[name=RateItem_"+n+"] .rating-comment")[0];t&&(t.style.display="none")}function ShowErrorMessage(n,t){var i=$("div[name=RateItem_"+t+"] .loaderImg")[0];i&&(i.style.display="none")}function starRating(n,t,i){var r=function(n){var t=getInternetExplorerVersion(),r=t>0&&t<=8;$(n).each(function(){$(this).find("input:submit").hide();$(".content",this).length>0&&($(this).find(".voting").hide(),$(this).hover(function(){$(".content",this).hide();$(".voting",this).show()},function(){$(".content",this).show();$(".voting",this).hide()}));var n=$('<div class="rating-star-block"><\/div>');$(this).find("input:radio").each(function(){var f="vote "+this.value,t=$('<a href="#"><\/a>').attr("rating",this.value).text(f).addClass("star outline");r||t.attr("title",f);u(t,i);n.append(t);$(this).is(":checked")&&t.prevAll().andSelf().removeClass("outline").addClass("filled")});$(this).find(".voting").append(n).find("input:radio").hide()})},u=function(n){$(n).click(function(n){var r=$(this),u=$(this).parent(),i=r.attr("rating");u.parent().find("input:radio[value="+i+"]").attr("checked",!0);n.preventDefault();t?t(i):$(this).closest("form").submit()}).hover(function(){$(this).prevAll().andSelf().removeClass("outline").addClass("filled");$(this).nextAll().addClass("outline")},function(){$(this).siblings().andSelf().removeClass("filled").addClass("outline")})};r(n,t)}function ReportMe(n,t,i,r,u,f){var e=!0;if(u&&(e=confirm("Are you sure your want to report this item")),e){var o="rpt_",h=GetReportLink(o,n.toString(),t.toString(),i.toString()),s=GetReportStatusMsgElm(o,n.toString(),t.toString(),i.toString(),u),c=$("#"+f).val();ShowReportingMessage(h,s)&&$(s).load(r+"&comments="+escape(c))}return!1}function GetReportLink(n,t,i,r){return $("a[name="+n+t+"_"+i+"_"+r+"]")}function GetReportStatusMsgElm(n,t,i,r,u){var f=document.getElementsByName(n+t+"_"+i+"_"+r)[0];return u?f.parentNode:f.parentNode.parentNode.parentNode}function ShowReportingMessage(n,t){return!n||!t?!1:($(n).css("display","none"),$(t).html('<img src="/images/animated_loading_blue.gif" width="16px" height="16px" border="0">'),$(t).css("display",""),!0)}function CheckForUndo(n){if(!$(n).prop("checkForUndo")){var t=$(n).find(".Undo");$(n).prop("checkForUndo",!0)}}function bookmarkMe(n,t,i,r,u,f){var e="bm_",s=u||GetBmkLink(e,n.toString(),t.toString()),o=f||GetBmkStatusMsg(e,n.toString(),t.toString());return LoadWaitMessage(s,o,r)&&$(o).load(i),!1}function watchMe(n,t,i,r,u,f){var e="bmw_",s=u||GetBmkLink(e,n.toString(),t.toString()),o=f||GetBmkStatusMsg(e,n.toString(),t.toString());return LoadWaitMessage(s,o,r)&&$(o).load(i),!1}function GetBmkLink(n,t,i){return $("a[name="+n+t+"_"+i+"]")}function GetBmkStatusMsg(n,t,i){return document.getElementsByName(n+t+"_"+i)[0]}function LoadWaitMessage(n,t,i){return!n||!t?!1:($(n).css("display","none"),i=="large"?$(t).html('<img src="/images/animated_loading" width="32px" height="32px" border="0" class="align-top">'):i=="medium"?$(t).html('<img src="/images/loading.gif" width="24px" height="24px" border="0" class="align-top">'):$(t).html('<img src="/images/animated_loading_blue.gif" width="16px" height="16px" border="0">'),$(t).css("display",""),!0)}function scrollToAnchor(n,t){var u,i,r,f;return t=jQuery.extend({speed:1100},t),i=n.indexOf("#"),u=i>0?n.substring(i):n,r=$(u),r.length>0&&(f=r.offset().top,$("html:not(:animated),body:not(:animated)").animate({scrollTop:f},t.speed,function(){window.location.hash=n})),!1}function anchorAnimate(n){$("a.anchorLink").each(function(){var t=this;$(t).click(function(i){i.preventDefault();var e=window.location.href,r=$(t).attr("href"),u,f=r.indexOf("#");return u=f>0?r.substring(f):r,scrollToAnchor(u,n)})})}function getControlKeys(n){var t="";return n.ctrlKey&&(t+="CTRL+"),n.shiftKey&&(t+="SHIFT+"),n.altKey&&(t+="ALT+"),t}function shortcutEventHandler(n,t,i){var u,r,f;return(n||(n=event),u=n.keyCode?n.keyCode:n.charCode,r="",i[u]&&(r=i[u]),f=getControlKeys(n),r=f+r,t.Combinations[r])?(t.Combinations[r](),n.preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,!1):!0}function Submit(){var n=document.forms.aspnetForm;n||(n=document.aspnetForm);n&&n.submit()}function MoveToPage(n){var t=document.getElementById(n?"_mbpUrl":"_mbnUrl");t&&(location.href=t.value)}function MoveToPost(n,t){var e,r,f,u;if(Selected!=""&&!isNaN(Selected)&&(e=document.getElementById("ForumTable"),e)&&(r=getElementsByClass("header",e,"tr"),r)){for(var s=parseInt(Selected),o=-1,h=0,i=0;i<r.length;++i)if(f=r[i].id.substring(1,r[i].id.length-3),f=parseInt(f),IsThreadHead(r[i])&&(h=i),f==s){o=i;break}for(u=null,i=o+(n?1:-1);i<r.length&&i>=0;n?++i:--i)if(t&&IsThreadHead(r[i])||!t){if(Selected<0&&r[i].childNodes[1].className.indexOf("sticky")>=0)continue;u=r[i].id.substring(1,r[i].id.length-3);u=parseInt(u);break}u&&u!=parseInt(Selected)&&SwitchMessage(null,u)}}function IsThreadHead(n){return n.className.indexOf("root")>=0}function getElementsByClass(n,t,i){var e=[],r,f;t==null&&(t=document);i==null&&(i="*");var u=t.getElementsByTagName(i),o=u.length,s=new RegExp("(^|\\s)"+n+"(\\s|$)");for(r=0,f=0;r<o;r++)s.test(u[r].className)&&(e[f]=u[r],f++);return e}function getVoteFormHtml(n,t,i){var r="",u;if(allowRating)if(i=="GoodOrBad"||i=="UpVoteOnly")r+='<a href="#xx'+t.toString()+'xx" onclick="RateMsg('+n.toString()+","+t.toString()+',5,0);"><img height="16px" width="16px" src="/images/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle" /><\/a>\n',r+=i=="GoodOrBad"?'<br /><a href="#xx'+t.toString()+'xx" onclick="RateMsg('+n.toString()+","+t.toString()+',1,0);"><img height="16px" width="16px" src="/images/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle" /><\/a>\n':'<br /><img height="16px" width="16px" src="/images/nodownvote16.png" alt="downvoting not available" title="downvoting not available" border="0" align="absmiddle" />\n';else if(i=="RatingScale"){for(r+='Rate:\n<a href="#xx'+t.toString()+'xx" onclick="RateMsg('+n.toString()+","+t.toString()+',1,0);"><img height="14px" width="14px" src="'+staticServer+forumDir+'Images/thumbs_down.gif" alt="vote 1" border="0" align="absmiddle" /><\/a>\n',u=1;u<=5;u++)r+='<a class="toolbar nav-link" href="#xx'+t.toString()+'xx" title="vote this message a '+u.toString()+'" onclick="RateMsg('+n.toString()+","+t.toString()+","+u.toString()+',0);"><b>'+u.toString()+"<\/b><\/a>\n";r+='<a href="#xx'+t.toString()+'xx" onclick="RateMsg('+n.toString()+","+t.toString()+',5,0);"><img height="14px" width="14px" src="'+staticServer+forumDir+'Images/thumbs_up.gif" border="0" alt="vote 5" align="absmiddle" /><\/a>\n'}return r}function getReportFormHtml(n,t){var i="";return allowReporting&&(i+='<span class="tooltip" style="padding:0 30px 0 25px"><img height="16px" width="16px" src="'+staticServer+'/images/flag16.png" border="0" alt="report" style="vertical-align:text-top" /><div class="tooltip-flyout" style="width:80px !important;line-height:17px"><div class="list-item"><a href="#xx'+t.toString()+'xx" title="Report as Abuse" onclick="return ReportMsg('+n.toString()+","+t.toString()+","+abuseScore.toString()+');">Abusive<\/a><\/div><div class="list-item"><a href="#xx'+t.toString()+'xx" title="Report as Spam" onclick="return ReportMsg('+n.toString()+","+t.toString()+","+spamScore.toString()+');">Spam<\/a><\/div><\/div><\/span>'),i}function SetupVoteForm(){allowRating&&$("#ForumTable .voteform").each(function(){var n=$(this);if(!n.attr("done")){var t=n.attr("ownerid"),i=n.attr("msgid"),r=n.attr("votingType");n.html(getVoteFormHtml(t,i,r));n.attr("done","true")}})}function SetupReportForm(){allowReporting&&$("#ForumTable span.reportform").each(function(){var n=$(this),t,i;n.attr("done")||(t=n.attr("ownerid"),i=n.attr("msgid"),n.html(getReportFormHtml(t,i)),n.attr("done","true"))})}function GetMessageVotes(){if(allowRatingDisplay){var n="";($("#ForumTable span.rating-label").each(function(){n&&(n+=",");n+=$(this).attr("data-ref")}),n)&&$.ajax({type:"POST",url:getRatingUrl,data:{obrs:n},timeout:5e3,success:function(n){SetMessageClassName(n.data)},error:function(){}})}}function SetMessageClassName(n){var t,e,o;if(n&&n.length)for(t=0;t<n.length;t++){var c=n[t].reference,s=n[t].rating,f=n[t].score,l=n[t].votes,h=n[t].upvotes,i=null,r=null,u=null;f>0&&(r=$("span[data-ref="+c+"]"),u=r.closest(".content"),e=u.find(".voteform").attr("votingtype"),o=e!="None"&&e!="UpVoteOnly",f<noiseThreshold?o&&(i="vote-lo"):f>=voteHiThreshold&&(i="vote-hi"),!o&&l&&(s=h==1?"1 upvote":h.toString()+" upvotes"));i&&r&&u&&(u.prev().find(".subject-line").addClass(i),r.prepend($("<span>"+s+"<\/span>")))}}function ReportMsg(n,t,i){return confirm("Are you sure you want this message removed?")?RateMsg(n,t,i,0):!1}function RateMsg(n,t,i,r){var u=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP"),f,e;if(u)return(u.onreadystatechange=function(){if(u.readyState==4)if(u.status==200){var t=u.responseText,i=new RegExp("<div>(.*)<\/div>","g"),n=i.exec(t);f.innerHTML="<b>"+(n&&n.length>1&&n[1]?n[1]:"An error occurred<\/b>")}else f.innerHTML='<b style="color:red">Failed!'+u.statusText+"<\/b>"},f=document.getElementById("MVF"+t),!f)?void 0:(f.innerHTML='<b style="color:green">Voting...<\/b>',e=forumDir+"Vote.aspx?js=1&fmid="+n.toString()+"&select="+t.toString()+"&score="+i.toString()+"&qid="+r.toString(),u.open("GET",e,!0),u.send(null),!1)}function Pin(n){var t,i;for(CloseMsg(Selected),Selected="",t=n.parentNode,t&&(t=t.firstChild);t&&t.className!="message-link";)t=t.nextSibling;return i=n?n.firstChild:null,t&&!t.pinned?(OpenMsg(t.name,!0),t.pinned=!0,switchImage(i,staticServer+forumDir+"images/pinned.png","Pinned. Click to unpin")):(t.pinned=!1,CloseMsg(t.name),switchImage(i,staticServer+forumDir+"images/pin.png","Click to pin message")),!1}function switchImage(n,t,i){n.src=t;n.title=i}function CloseMsg(n){var t,i,r;!n||n==""||n<0||(t=document.getElementsByName(n),t&&t.length>0&&t[0].pinned)||(i=document.getElementById("F"+n.toString()+"_h0"),i&&(i.className=i.className.replace("selected","")),r=document.getElementById("F"+n.toString()+"_h1"),r&&(r.style.display="none"))}function OpenMsg(n,t){var i,u,r,f;if(n&&n!=""&&!(n<0)){if(i=document.getElementById("F"+n.toString()+"_h1"),i){if(u=document.getElementsByName(n),u&&u.length>0&&u[0].pinned&&(t=!0),t&&i.style.display!="none")return;i.style.display=i.style.display=="none"?"":"none"}r=document.getElementById("F"+n.toString()+"_h0");r&&(r.className+=" selected");i&&r&&i.style.display!="none"&&(f=document.documentElement.scrollTop<document.body.scrollTop,f||(document.body.scrollTop=getRealPos(r,"Top")-document.body.clientHeight/10),EnsureMessageVisible(n,!0));processCodeBlocks&&processCodeBlocks.setupCollapsableCode(i)}}function EnsureMessageVisible(n,t){var f=document.documentElement.scrollTop<document.body.scrollTop,o=document.getElementById("F"+n+"_h0"),e=document.getElementById("F"+n+"_h1");if(e&&o){var r=document.documentElement,u=getRealPos(o,"Top"),s=getRealPos(e,"Top")+e.offsetHeight,i=f?document.body.scrollTop:document.documentElement.scrollTop;i>u&&!t&&(i=u-r.clientHeight/10);i+r.clientHeight<s&&(i=s-r.clientHeight);i>u&&t&&(i=u-r.clientHeight/10);smoothScroll?f?$(document.body).stop().animate({scrollTop:i},"fast"):$(r).stop().animate({scrollTop:i},"fast"):f?document.body.scrollTop=i:r.scrollTop=i}}function getRealPos(n,t){for(iPos=0;n!=null;)iPos+=n["offset"+t],n=n.offsetParent;return iPos}function SwitchMessage(n,t){if(t)t=t.toString();else{n||(n=window.event);var i=n.target?n.target:n.srcElement;if(i&&i.className=="subject hover-container")i.childNodes&&i.childNodes.length>2&&(i=i.childNodes[2]);else while(i&&i.className!="message-link")i=i.parentNode;if(!i||i.className!="message-link")return;if(i.pinned)return!1;t=i.name}return CloseMsg(Selected),Selected==t?Selected="":(OpenMsg(t,!1),Selected=t),n&&(n.preventDefault?n.preventDefault:n.returnValue=!1),switchCallback&&switchCallback(null,t),!1}function CheckAdminClick(n){return window.confirm("Are you sure you want to "+n+"?")}function SelfCheck(){return window.confirm("You are about to reply to your own message. Is this really what you want?")}function FireNew(n){window.location=$(n).find("a")[0].href}function ForumMsgFlag(n){this.updateMessageUrl="";this.flagTypes=[];var t=this,i="FrmMsgFlagMenu",r=n,u=function(n,i){return"<a href='javascript:void()' onclick='return "+r+".onClick("+n+","+i+");'>"+t.flagTypes[i].name+"<\/a>"},f=function(n){var f=$(n).parent().parent().parent().parent().find(".message-link"),e,r,o;if(!(f.length<1)){e=f[0].name;$("#"+i+" div").remove();r="<div>";for(o in t.flagTypes)r+='<div class="list-item">'+u(e,o)+"<\/div>";r+="<\/div>";$("#"+i).append(r)}},e=function(){f(this);var r=!1,t=$(this),n=$("#"+i);if(t&&n){var u=$(t).offset(),s=$(t).outerWidth(),h=$(n).outerWidth(),c=$(t).outerHeight(),e=u.left+"px",o=u.top+"px";$(n).css({left:e,top:o});$(n).stop(!0,!0).show();$(t).hover(function(){setTimeout(function(){r||$("#"+i).fadeOut("fast")},200)});$(n).hover(function(){r=!0},function(){r=!1;$(n).fadeOut("fast")})}};this.onClick=function(n,r){return $.get(t.updateMessageUrl+"?msgflagId="+r+"&msg="+n,function(){var i=$("#ForumTable").find('.message-link[name="'+n+'"]').parent().parent();for(var u in t.flagTypes)i.removeClass(t.flagTypes[u].cssClass);t.flagTypes[r].cssClass&&i.addClass(t.flagTypes[r].cssClass)}),$("#"+i).fadeOut("fast"),!1};this.initialise=function(){$("body").append('<div id="'+i+'" class="invisible tooltip-flyout" style="position:absolute"><div>Error: Unable to load flag types<\/div><\/div>');$(".flag").bind("click",e)}}function ValidateLength(n,t,i,r){return!n&&r?t+" is a required field.<br/>":(n.length>5&&n.length<i)?"":t+" must be between 5 and "+i.toString()+" characters.<br/>"}function ValidateUrl(n,t,i){return!n&&i?t+" is a required field.<br/>":n.match(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/)?"":"Invalid Url format for "+t+".<br/>"}function ValidateDelimiter(n,t,i,r){var u="";return n?(n=n.trim(),n.charAt(0)==t||n.charAt(n.length-1)==t||n.indexOf(t+t)>-1?u="No leading, trailing or double "+t+"'s are allowed in the "+i+" field.<br/>":n.length>100&&(u=i+" are limited to 100 characters.<br/>")):r&&(u=i+" is a required field.<br/>"),u}function ValidateDate(n,t,i){return!n&&i?t+" is a required field.<br/>":n.match(/^[0-9]{4}-[01][0-9]-[0-3][0-9]$/)?"":"Invalid date format for "+t+".<br/>"}function ValidateRequired(n,t){return!n||n==""?t+" is a required field.<br/>":""}function ValidateNumber(n,t,i){return!n&&i?t+" is a required field.<br/>":isNaN(n)?t+" is not a number.<br/>":""}var navBarMenu=new NavBarMenu("navBarMenu",".navmenu li"),signinMenu=new NavBarMenu("signinMenu",".member-signin"),memberLinksMenu=new NavBarMenu("memberLinksMenu",".member-links"),notificationsMenu=new NavBarMenu("notificationsMenu",".notification-count"),followService,commandMapping,forumNav;(function(n){n.sticky=function(t,i,r){function s(){if(u){var t=u.offset(),n={};return(n.isStickyRequired=r==="top",n.top=t.top,n.left=t.left,n.position=u.css("position"),n.top===-1)?null:n}}function c(){f&&(u.css("position",f.position),u.css("top",f.top),u.css("left",f.left),u.removeClass("stuck"),o=!1)}function l(n){var t=n.offset();return t.width=n.outerWidth(!0),t.height=n.outerHeight(!0),t.right=t.left+t.width,t.bottom=t.top+t.height,t}var e=this,u=n(t),h=10,o=!1,f;e.ReGetOriginalLayout=function(){f&&(c(),f=s(),e.RepositionStickyElement())};e.RepositionStickyElement=function(){var t,a,r,e;i&&i.length&&(t=l(i));a=n(window).scrollTop();r=l(u);t&&r.bottom>t.top?e=r.top-(r.bottom-t.top)-a:a+h>=f.top?e=h:o||(f=s());e&&t&&a+e+r.height>t.top&&(e=r.top-(r.bottom-t.top)-a);e?(u.css("position","fixed"),u.css("top",e),u.css("left",f.left-n(window).scrollLeft()),u.addClass("stuck"),o=!0):c()};e.init=function(){r=r||"top";u&&(f=s(),n(window).bind("resize",e.ReGetOriginalLayout),n(window).bind("scroll",e.RepositionStickyElement))};e.init()};n.fn.sticky=function(t,i){return this.each(function(){new n.sticky(this,t,i)})}})(jQuery);followService=function(){var i=function(n,t,i){var r=new $.Deferred,u;return i.baseUrl===null?r.reject("BaseUrl not set"):(u=JSON.stringify(t),$.ajax({type:"POST",cache:!1,url:i.baseUrl+n,data:u,contentType:"application/json; charset=utf-8",dataType:"json",tryCount:0,retryLimit:3,timeout:5e3}).done(function(n){var t=n?n.d:null;r.resolve(t)}).fail(function(n,t){r.reject(t)})),r.promise()},n=function(n,t){var r={objectTypeId:t.objectTypeId,objectId:t.objectId};return i(n,r,t)},t=function(n,t){t.isFollowing=n;n?(t.$followButton.hide(),t.$unfollowButton.show()):(t.$unfollowButton.hide(),t.$followButton.show())},r=function(i){return n("IsFollowing",i).done(function(n){t(n,i)})},u=function(i){return n("Follow",i).done(function(){t(!0,i)})},f=function(i){return n("Unfollow",i).done(function(){t(!1,i)})},e=function(n){var t=new $.Deferred;return(typeof n.baseUrl!="string"||n.baseUrl.length===0)&&t.reject("followService: config.baseUrl not valid"),n.baseUrl[n.baseUrl.length-1]!=="/"&&(n.baseUrl+="/"),n.$followButton=$(n.followButton),n.$unfollowButton=$(n.unfollowButton),r(n).done(function(){n.$followButton.click(function(){u(n)});n.$unfollowButton.click(function(){f(n)});t.resolve()}).fail(function(n){t.reject(n)})};return{initFollowObjectButtons:e}}(),function(n){n.fn.hoverIntent=function(t,i){var r={sensitivity:7,interval:100,timeout:0};r=n.extend(r,i?{over:t,out:i}:t);var u,f,e,o,s=function(n){u=n.pageX;f=n.pageY},h=function(t,i){if(i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(e-u)+Math.abs(o-f)<r.sensitivity)return n(i).unbind("mousemove",s),i.hoverIntent_s=1,r.over.apply(i,[t]);e=u;o=f;i.hoverIntent_t=setTimeout(function(){h(t,i)},r.interval)},l=function(n,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,r.out.apply(t,[n])},c=function(t){var u=jQuery.extend({},t),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t));t.type=="mouseenter"?(e=u.pageX,o=u.pageY,n(i).bind("mousemove",s),i.hoverIntent_s!=1&&(i.hoverIntent_t=setTimeout(function(){h(u,i)},r.interval))):(n(i).unbind("mousemove",s),i.hoverIntent_s==1&&(i.hoverIntent_t=setTimeout(function(){l(u,i)},r.timeout)))};return this.bind("mouseenter",c).bind("mouseleave",c)}}(jQuery),function(){function a(n){console.log("$f.fireEvent",[].slice.call(n))}function i(n){var r,t;if(!n||typeof n!="object")return n;r=new n.constructor;for(t in n)n.hasOwnProperty(t)&&(r[t]=i(n[t]));return r}function n(n,t){var i,r,f,u;if(n){if(r=0,f=n.length,f===undefined){for(i in n)if(t.call(n[i],i,n[i])===!1)break}else for(u=n[0];r<f&&t.call(u,r,u)!==!1;u=n[++r]);return n}}function h(n){return document.getElementById(n)}function t(t,i,r){return typeof i!="object"?t:(t&&i&&n(i,function(n,i){r&&typeof i=="function"||(t[n]=i)}),t)}function v(t){var i=t.indexOf(".");if(i!=-1){var u=t.slice(0,i)||"*",f=t.slice(i+1,t.length),r=[];return n(document.getElementsByTagName(u),function(){this.className&&this.className.indexOf(f)!=-1&&r.push(this)}),r}}function l(n){return n=n||window.event,n.preventDefault?(n.stopPropagation(),n.preventDefault()):(n.returnValue=!1,n.cancelBubble=!0),!1}function u(n,t,i){n[t]=n[t]||[];n[t].push(i)}function f(){return"_"+(""+Math.random()).slice(2,10)}function o(o,c,v){function st(){function i(n){return/iPad|iPhone|iPod/i.test(navigator.userAgent)&&!/.flv$/i.test(w[0].url)&&!h()?!0:(y.isLoaded()||y._fireEvent("onBeforeClick")===!1||y.load(),l(n))}function h(){return y.hasiPadSupport&&y.hasiPadSupport()}function a(){d.replace(/\s/g,"")!==""?o.addEventListener?o.addEventListener("click",i,!1):o.attachEvent&&o.attachEvent("onclick",i):(o.addEventListener&&!h()&&o.addEventListener("click",l,!1),y.load())}$f(o)?($f(o).getParent().innerHTML="",it=$f(o).getIndex(),r[it]=y):(r.push(y),it=r.length-1);ot=parseInt(o.style.height,10)||o.clientHeight;tt=o.id||"fp"+f();rt=c.id||tt+"_api";c.id=rt;d=o.innerHTML;typeof v=="string"&&(v={clip:{url:v}});v.playerId=tt;v.clip=v.clip||{};o.getAttribute("href",2)&&!v.clip.url&&(v.clip.url=o.getAttribute("href",2));g=new s(v.clip,-1,y);v.playlist=v.playlist||[v.clip];var t=0;n(v.playlist,function(){var i=this;typeof i=="object"&&i.length&&(i={url:""+i});n(v.clip,function(n,t){t!==undefined&&i[n]===undefined&&typeof t!="function"&&(i[n]=t)});v.playlist[t]=i;i=new s(i,t,y);w.push(i);t++});n(v,function(n,t){typeof t=="function"&&(g[n]?g[n](t):u(k,n,t),delete v[n])});n(v.plugins,function(n,t){t&&(b[n]=new e(n,t,y))});v.plugins&&v.plugins.controls!==undefined||(b.controls=new e("controls",null,y));b.canvas=new e("canvas",null,y);d=o.innerHTML;setTimeout(a,0)}var y=this,p=null,nt=!1,d,g,w=[],b={},k={},tt,rt,it,ft,et,ot,ut;if(t(y,{id:function(){return tt},isLoaded:function(){return p!==null&&p.fp_play!==undefined&&!nt},getParent:function(){return o},hide:function(n){return n&&(o.style.height="0px"),y.isLoaded()&&(p.style.height="0px"),y},show:function(){return o.style.height=ot+"px",y.isLoaded()&&(p.style.height=et+"px"),y},isHidden:function(){return y.isLoaded()&&parseInt(p.style.height,10)===0},load:function(t){if(!y.isLoaded()&&y._fireEvent("onBeforeLoad")!==!1){var i=function(){d&&!flashembed.isSupported(c.version)&&(o.innerHTML="");t&&(t.cached=!0,u(k,"onLoad",t));flashembed(o,c,{config:v})},f=0;n(r,function(){this.unload(function(){++f==r.length&&i()})})}return y},unload:function(n){if(d.replace(/\s/g,"")!==""){if(y._fireEvent("onBeforeUnload")===!1)return n&&n(!1),y;nt=!0;try{p&&(p.fp_close(),y._fireEvent("onUnload"))}catch(i){}var t=function(){p=null;o.innerHTML=d;nt=!1;n&&n(!0)};/WebKit/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent)?setTimeout(t,0):t()}else n&&n(!1);return y},getClip:function(n){return n===undefined&&(n=ft),w[n]},getCommonClip:function(){return g},getPlaylist:function(){return w},getPlugin:function(n){var t=b[n],i;return!t&&y.isLoaded()&&(i=y._api().fp_getPlugin(n),i&&(t=new e(n,i,y),b[n]=t)),t},getScreen:function(){return y.getPlugin("screen")},getControls:function(){return y.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return y.getPlugin("logo")._fireEvent("onUpdate")}catch(n){}},getPlay:function(){return y.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(n){return n?i(v):v},getFlashParams:function(){return c},loadPlugin:function(n,t,i,r){var u,o,s;return typeof i=="function"&&(r=i,i={}),u=r?f():"_",y._api().fp_loadPlugin(n,t,i,u),o={},o[u]=r,s=new e(n,null,y,o),b[n]=s,s},getState:function(){return y.isLoaded()?p.fp_getState():-1},play:function(n,t){var i=function(){n!==undefined?y._api().fp_play(n,t):y._api().fp_play()};return y.isLoaded()?i():nt?setTimeout(function(){y.play(n,t)},50):y.load(function(){i()}),y},getVersion:function(){var t="flowplayer.js 3.2.8",n;return y.isLoaded()?(n=p.fp_getVersion(),n.push(t),n):t},_api:function(){if(!y.isLoaded())throw"Flowplayer "+y.id()+" not loaded when calling an API method";return p},setClip:function(t){return n(t,function(n,i){if(typeof i=="function")u(k,n,i),delete t[n];else if(n=="onCuepoint")$f(o).getCommonClip().onCuepoint(t[n][0],t[n][1])}),y.setPlaylist([t]),y},getIndex:function(){return it},bufferAnimate:function(n){return p.fp_bufferAnimate(n===undefined||n),y},_swfHeight:function(){return p.clientHeight}}),n("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut".split(","),function(){var n="on"+this,t;n.indexOf("*")!=-1&&(n=n.slice(0,n.length-1),t="onBefore"+n.slice(2),y[t]=function(n){return u(k,t,n),y});y[n]=function(t){return u(k,n,t),y}}),n("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled".split(","),function(){var n=this;y[n]=function(t,i){if(!y.isLoaded())return y;var r=null;return r=t!==undefined&&i!==undefined?p["fp_"+n](t,i):t===undefined?p["fp_"+n]():p["fp_"+n](t),r==="undefined"||r===undefined?y:r}}),y._fireEvent=function(t){var d,c,nt,f,o;typeof t=="string"&&(t=[t]);var r=t[0],i=t[1],u=t[2],l=t[3],e=0;if(v.debug&&a(t),y.isLoaded()||r!="onLoad"||i!="player"||(p=p||h(rt),et=y._swfHeight(),n(w,function(){this._fireEvent("onLoad")}),n(b,function(n,t){t._fireEvent("onUpdate")}),g._fireEvent("onLoad")),r!="onLoad"||i=="player"){if(r=="onError"&&(typeof i=="string"||typeof i=="number"&&typeof u=="number")&&(i=u,u=l),r=="onContextMenu"){n(v.contextMenu[i],function(n,t){t.call(y)});return}if(r=="onPluginEvent"||r=="onBeforePluginEvent")return(d=i.name||i,c=b[d],c)?(c._fireEvent("onUpdate",i),c._fireEvent(u,t.slice(3))):void 0;if(r=="onPlaylistReplace"&&(w=[],nt=0,n(i,function(){w.push(new s(this,nt++,y))})),r=="onClipAdd"){if(i.isInStream)return;for(i=new s(i,u,y),w.splice(u,0,i),e=u+1;e<w.length;e++)w[e].index++}return f=!0,typeof i=="number"&&i<w.length&&(ft=i,o=w[i],o&&(f=o._fireEvent(r,u,l)),o&&f===!1||(f=g._fireEvent(r,u,l,o))),n(k[r],function(){if(f=this.call(y,i,u),this.cached&&k[r].splice(e,1),f===!1)return!1;e++}),f}},typeof o=="string"){if(ut=h(o),!ut)throw"Flowplayer cannot access element: "+o;o=ut;st()}else st()}function c(t){this.length=t.length;this.each=function(i){n(t,i)};this.size=function(){return t.length};var i=this;for(name in o.prototype)i[name]=function(){var n=arguments;i.each(function(){this[name].apply(this,n)})}}var s=function(i,r,e){var o=this,s={},h={},c;o.index=r;typeof i=="string"&&(i={url:i});t(this,i,!0);n("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop".split(","),function(){var n="on"+this,t;n.indexOf("*")!=-1&&(n=n.slice(0,n.length-1),t="onBefore"+n.slice(2),o[t]=function(n){return u(h,t,n),o});o[n]=function(t){return u(h,n,t),o};r==-1&&(o[t]&&(e[t]=o[t]),o[n]&&(e[n]=o[n]))});t(this,{onCuepoint:function(n,t){if(arguments.length==1)return s.embedded=[null,n],o;typeof n=="number"&&(n=[n]);var i=f();return s[i]=[n,t],e.isLoaded()&&e._api().fp_addCuepoints(n,r,i),o},update:function(n){t(o,n);e.isLoaded()&&e._api().fp_updateClip(n,r);var i=e.getConfig(),u=r==-1?i.clip:i.playlist[r];t(u,n,!0)},_fireEvent:function(i,u,f,c){var l,a;return i=="onLoad"?(n(s,function(n,t){t[0]&&e._api().fp_addCuepoints(t[0],r,n)}),!1):(c=c||o,i=="onCuepoint"&&(l=s[u],l))?l[1].call(e,c,f):(u&&"onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(i)!=-1&&(t(c,u),u.metaData&&(c.duration?c.fullDuration=u.metaData.duration:c.duration=u.metaData.duration)),a=!0,n(h[i],function(){a=this.call(e,c,u,f)}),a)}});i.onCuepoint&&(c=i.onCuepoint,o.onCuepoint.apply(o,typeof c=="function"?[c]:c),delete i.onCuepoint);n(i,function(n,t){typeof t=="function"&&(u(h,n,t),delete i[n])});r==-1&&(e.onCuepoint=this.onCuepoint)},e=function(i,r,u,e){var o=this,s={},h=!1;e&&t(s,e);n(r,function(n,t){typeof t=="function"&&(s[n]=t,delete r[n])});t(this,{animate:function(n,t,e){var c,h;return n?(typeof t=="function"&&(e=t,t=500),typeof n=="string"&&(c=n,n={},n[c]=t,t=500),e&&(h=f(),s[h]=e),t===undefined&&(t=500),r=u._api().fp_animate(i,n,t,h),o):o},css:function(n,f){if(f!==undefined){var e={};e[n]=f;n=e}return r=u._api().fp_css(i,n),t(o,r),o},show:function(){return this.display="block",u._api().fp_showPlugin(i),o},hide:function(){return this.display="none",u._api().fp_hidePlugin(i),o},toggle:function(){return this.display=u._api().fp_togglePlugin(i),o},fadeTo:function(n,t,r){if(typeof t=="function"&&(r=t,t=500),r){var e=f();s[e]=r}return this.display=u._api().fp_fadeTo(i,n,t,e),this.opacity=n,o},fadeIn:function(n,t){return o.fadeTo(1,n,t)},fadeOut:function(n,t){return o.fadeTo(0,n,t)},getName:function(){return i},getPlayer:function(){return u},_fireEvent:function(r,f){var e,c,l;if(r=="onUpdate"){if(e=u._api().fp_getPlugin(i),!e)return;t(o,e);delete o.methods;h||(n(e.methods,function(){var n=""+this;o[n]=function(){var r=[].slice.call(arguments),t=u._api().fp_invoke(i,n,r);return t==="undefined"||t===undefined?o:t}}),h=!0)}return(c=s[r],c)?(l=c.apply(o,f),r.slice(0,1)=="_"&&delete s[r],l):o}})},r=[];window.flowplayer=window.$f=function(){var e=null,u=arguments[0],f,s,l,a;if(!arguments.length)return n(r,function(){if(this.isLoaded())return e=this,!1}),e||r[0];if(arguments.length==1)return typeof u=="number"?r[u]:u=="*"?new c(r):(n(r,function(){if(this.id()==u.id||this.id()==u||this.getParent()==u)return e=this,!1}),e);if(arguments.length>1){if(f=arguments[1],s=arguments.length==3?arguments[2]:{},typeof f=="string"&&(f={src:f}),f=t({bgcolor:"#000000",version:[9,0],expressInstall:"http://static.flowplayer.org/swf/expressinstall.swf",cachebusting:!1},f),typeof u=="string")return u.indexOf(".")!=-1?(l=[],n(v(u),function(){l.push(new o(this,i(f),i(s)))}),new c(l)):(a=h(u),new o(a!==null?a:i(u),i(f),i(s)));if(u)return new o(u,i(f),i(s))}return null};t(window.$f,{fireEvent:function(){var n=[].slice.call(arguments),t=$f(n[0]);return t?t._fireEvent(n.slice(1)):null},addPlugin:function(n,t){return o.prototype[n]=t,$f},each:n,extend:t});typeof jQuery=="function"&&(jQuery.fn.flowplayer=function(n,t){if(!arguments.length||typeof arguments[0]=="number"){var r=[];return this.each(function(){var n=$f(this);n&&r.push(n)}),arguments.length?r[arguments[0]]:new c(r)}return this.each(function(){$f(this,i(n),t?i(t):{})})})}(),function(){function t(n,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function s(n,t){var r=[];for(var i in n)n.hasOwnProperty(i)&&(r[i]=t(n[i]));return r}function h(u,e,o){if(n.isSupported(e.version))u.innerHTML=n.getHTML(e,o);else if(e.expressInstall&&n.isSupported([6,65]))u.innerHTML=n.getHTML(t(e,{src:e.expressInstall}),{MMredirectURL:encodeURIComponent(location.href),MMplayerType:"PlugIn",MMdoctitle:document.title});else if(u.innerHTML.replace(/\s/g,"")||(u.innerHTML="<h2>Flash version "+e.version+" or greater is required<\/h2><h3>"+(i[0]>0?"Your version is "+i:"You have no flash plugin installed")+"<\/h3>"+(u.tagName=="A"?"<p>Click here to download latest version<\/p>":"<p>Download latest version from <a href='"+f+"'>here<\/a><\/p>"),u.tagName=="A"&&(u.onclick=function(){location.href=f})),e.onFail){var s=e.onFail.call(this);typeof s=="string"&&(u.innerHTML=s)}r&&(window[e.id]=document.getElementById(e.id));t(this,{getRoot:function(){return u},getOptions:function(){return e},getConf:function(){return o},getApi:function(){return u.firstChild}})}var r=document.all,f="http://www.adobe.com/go/getflashplayer",e=typeof jQuery=="function",o=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,u={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1},n,i;window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}});window.flashembed=function(n,i,r){if(typeof n=="string"&&(n=document.getElementById(n.replace("#",""))),n)return typeof i=="string"&&(i={src:i}),new h(n,t(t({},u),i),r)};n=t(window.flashembed,{conf:u,getVersion:function(){var t,n;try{n=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(i){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");n=t&&t.GetVariable("$version")}catch(r){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");n=t&&t.GetVariable("$version")}catch(u){}}}return n=o.exec(n),n?[n[1],n[3]]:[0,0]},asString:function(t){var i,u,r;if(t===null||t===undefined)return null;i=typeof t;i=="object"&&t.push&&(i="array");switch(i){case"string":return t=t.replace(new RegExp('(["\\\\])',"g"),"\\$1"),t=t.replace(/^\s?(\d+\.?\d*)%/,"$1pct"),t=t.replace(/(%)/g,"%25").replace(/'/g,"\\u0027").replace(/"/g,"\\u0022").replace(/&/g,"%26"),'"'+t+'"';case"array":return"["+s(t,function(t){return n.asString(t)}).join(",")+"]";case"function":return'"function()"';case"object":u=[];for(r in t)t.hasOwnProperty(r)&&u.push('"'+r+'":'+n.asString(t[r]));return"{"+u.join(",")+"}"}return String(t).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(i,u){var f,o,e,s,h;i=t({},i);f='<object width="'+i.width+'" height="'+i.height+'" id="'+i.id+'" name="'+i.id+'"';i.cachebusting&&(i.src+=(i.src.indexOf("?")!=-1?"&":"?")+Math.random());f+=i.w3c||!r?' data="'+i.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';f+=">";(i.w3c||r)&&(f+='<param name="movie" value="'+i.src+'" />');i.width=i.height=i.id=i.w3c=i.src=null;i.onFail=i.version=i.expressInstall=null;for(o in i)i[o]&&(f+='<param name="'+o+'" value="'+i[o]+'" />');if(e="",u){for(s in u)u[s]&&(h=u[s],e+=s+"="+(/function|object/.test(typeof h)?n.asString(h):h)+"&");e=e.slice(0,-1);f+='<param name="flashvars" value=\''+e+"' />"}return f+"<\/object>"},isSupported:function(n){return i[0]>n[0]||i[0]==n[0]&&i[1]>=n[1]}});i=n.getVersion();e&&(jQuery.tools=jQuery.tools||{version:"3.2.8"},jQuery.tools.flashembed={conf:u},jQuery.fn.flashembed=function(n,t){return this.each(function(){$(this).data("flashembed",flashembed(this,n,t))})})}();var processCodeBlocks=new function(){var n=400,t=!1,r=function(n){if(!n)return null;if(!$.support.opacity)return n;var t=$("<div/>").html(n).text().trim();return t=t.replace(/\</gi,"&lt;"),t.replace(/\r\n\r\n\r\n\r\n/,"\r\n\r\n")},u=function(n){switch(n.toLowerCase()){case"text":return"Plain Text";case"aspnet":return"ASP.NET";case"cs":return"C#";case"c++":return"C++";case"vb.net":return"VB.NET";case"mc++":return"C++ / CLI";case"css":return"CSS";case"delphi":return"Delphi";case"F#":return"F#";case"html":return"HTML";case"java":return"Java";case"jscript":return"Javascript";case"asm":return"MASM / ASM";case"msil":return"MSIL";case"midl":return"MIDL";case"php":return"PHP";case"sql":return"SQL";case"vbscript":return"VBScript";case"xml":return"XML"}return n},i=function(i,r){var u,f,e,o,s;if(!i.attr("decoration")||i.attr("decoration").toLowerCase()!=="none"){if(u=i.height(),f=i.attr("id"),f&&f.length>3&&f.substring(0,3)=="pre")if(r=parseInt(f.substring(3)),r>=0&&u>0)$("#premain"+r.toString()).empty().remove();else return;else r=Math.floor(Math.random()*1e6+1),i.attr("id","pre"+r.toString());typeof r=="number"&&(i.css("margin-top","0"),e="<div class='pre-action-link' id='premain"+r.toString()+"'  style='width:100%;display:block;'>",e+="<span id='prehide"+r.toString()+"'    onclick='processCodeBlocks.togglePre("+r.toString()+");'>Hide<\/span>  &nbsp; ",(u<=0||u>n)&&(o="/images/arrow-up-16.png",s="Shrink",t&&u>0&&(o="/images/arrow-down-16.png",s="Expand"),e+="<span id='preShrink"+r.toString()+"'    onclick='processCodeBlocks.shrinkExpand("+r.toString()+");'>"+s+"<\/span> <img id='preimg"+r.toString()+"' src='"+o+"'    style='height:16px;width:16px'    onclick='processCodeBlocks.shrinkExpand("+r.toString()+");' />  &nbsp; ",t&&u>0&&(i.css("overflow","auto"),i.height(n),i.attr("shrunk","true")),u>0&&!i.attr("processed","true")),e+="<span id='copycode"+r.toString()+"' onclick='return processCodeBlocks.copyCode("+r.toString()+");'>Copy Code<\/span><\/div>",i.before(e),i.height()>0&&(i.collapsable=!0))}},f=function(n){n.addClass("notranslate")};this.Initialise=function(r,e,o){n=e||n;t=!!o;$(r+" div.code-samples").each(function(n){var t=$(this),r=t.children("pre"),i;if(r.length>1){var e="divTab"+n.toString(),o="codesampletab"+n.toString(),f=$("<div id='"+o+"' class='clearfix'><\/div>").insertAfter(t);$("<ul id='codetab"+n+"'><\/ul>").appendTo(f);i="";r.each(function(){var t=$(this),r=e+t.attr("lang").replace("#","sharp").replace("+","plus").replace(/[^a-zA-Z0-9]/,"");$("<li><a href='#"+r+"'><span>"+u(t.attr("lang"))+"<\/span><\/a><\/li>").appendTo("#codetab"+n);i+="<div id='"+r+"'><a name='"+r+"'><\/a><pre>"+t.html()+"<\/pre><\/div>"});$(i).insertAfter("#codetab"+n);t.hide();f.tabs()}});$(r+" pre").each(function(n){i($(this),n);f($(this),n)});var s=document.createElement("style");s.type="text/css";s.innerHTML=".copied::after {  position: absolute;  display: inline-block;  content: 'copied'; color: #fff; background-color: #f90;  border-radius: 3px; padding:1px 3px; opacity: 0;  will-change: opacity, transform; animation: showcopied 1.5s ease; } @keyframes showcopied { 0% { opacity: 0; transform: translateX(-100%); } 70% { opacity: 1; transform: translateX(0); } 100% { opacity: 0; } } ";document.body.appendChild(s)};this.setupCollapsableCode=function(n){$(n).find("PRE").each(function(){i($(this))})};this.togglePre=function(n){var t=$("#pre"+n),i=$("#prehide"+n);t.toggle();t.css("display")==="none"?i.text(" Show"):i.text(" Hide")};this.shrinkExpand=function(t){var i=$("#pre"+t),r=$("#preimg"+t),u=$("#preShrink"+t);i.attr("shrunk")==="true"?(r.attr("src","/images/arrow-up-16.png"),u.text(" Shrink"),i.attr("shrunk","false"),i.height("auto")):(r.attr("src","/images/arrow-down-16.png"),u.text(" Expand"),i.attr("shrunk","true"),i.animate({height:Math.min(n,i.height())},"fast"))};this.copyCode=function(n){var u=$("#pre"+n.toString()),t=u.html(),i;return t?(t=r(t),!t)?!1:(this.copyTextToClipboard(t),i=$("#copycode"+n.toString()),i.addClass("copied"),setTimeout(function(){i.removeClass("copied")},1500),!1):!1};this.copyTextToClipboard=function(n){var t=document.createElement("textarea"),i,r;t.style.position="fixed";t.style.top=0;t.style.left=0;t.style.width="2em";t.style.height="2em";t.style.padding=0;t.style.border="none";t.style.outline="none";t.style.boxShadow="none";t.style.background="transparent";t.value=n;document.body.appendChild(t);t.select();try{i=document.execCommand("copy");r=i?"successful":"unsuccessful";console.log("Copying text command was "+r)}catch(u){console.log("Oops, unable to copy")}document.body.removeChild(t)}},switchCallback=null,minMessageScore=1,maxMessageScore=5,forumDir="/script/Forums/",staticServer="http://www.codeproject.com",allowReporting=!0,allowRating=!0,allowRatingDisplay=!0,abuseScore=-2,spamScore=-1,getRatingUrl="/script/ratings/ajax/getratings.aspx",noiseThreshold=3,voteHiThreshold=maxMessageScore-.5,getRatingRefKey="obrs",keyMapping=[];keyMapping["13"]="ENTER";keyMapping["37"]="LEFT";keyMapping["38"]="UP";keyMapping["39"]="RIGHT";keyMapping["40"]="DOWN";keyMapping["16"]="SHIFT";keyMapping["17"]="CTRL";keyMapping["33"]="PGUP";keyMapping["34"]="PGDOWN";commandMapping={Combinations:{"CTRL+ENTER":function(){Submit()},"CTRL+LEFT":function(){MoveToPost(!1,!1)},"CTRL+RIGHT":function(){MoveToPost(!0,!1)},"CTRL+UP":function(){MoveToPost(!1,!0)},"CTRL+DOWN":function(){MoveToPost(!0,!0)},"CTRL+PGUP":function(){$.browser.mozilla||MoveToPage(!0)},"CTRL+PGDOWN":function(){$.browser.mozilla||MoveToPage(!1)},"CTRL+SHIFT+LEFT":function(){MoveToPage(!0)},"CTRL+SHIFT+RIGHT":function(){MoveToPage(!1)}}};document.onkeydown=function(n){return shortcutEventHandler(n,commandMapping,keyMapping)};$(document).ready(function(){SetupVoteForm();SetupReportForm();GetMessageVotes();processCodeBlocks.Initialise("#ForumTable",400,!0)});forumNav=function(){function a(){return l||$(document.body).append('<canvas id="cv1" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"><\/canvas><canvas id="cv2" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"><\/canvas>'),l=!0,this.canvasVert||(this.canvasVert=$("#cv1")[0]),this.canvasHorz||(this.canvasHorz=$("#cv2")[0]),this.canvasVert&&this.canvasHorz}function v(){return a()&&(this.contextVert||(this.contextVert=this.canvasVert.getContext("2d")),this.contextHorz||(this.contextHorz=this.canvasHorz.getContext("2d"))),this.contextVert&&this.contextHorz}function k(){return this.forum||(this.forum=$("#ForumTable .fixed-layout")[0]),this.forum}function s(){v()&&(contextVert.clearRect(0,0,canvasVert.width,canvasVert.height),contextHorz.clearRect(0,0,canvasHorz.width,canvasHorz.height))}function d(n){o=!0;y(n,this.name)}function g(){o=!1;u>=f&&h(null,null)}function y(o,c){var w,y,a,l,d;if(v()&&k()){if(s(),c){if(w=$('a[name="'+c+'"]')[0],i&&i==w)return;i=w}else{if(i&&i==this)return;i=this}(r=null,y=i.attributes.parent.value,y&&y!="0")&&(r=$('a[name="'+y+'"]')[0],e=!r,e&&(r=$('a[thread="'+i.attributes.thread.value+'"]:first')[0]),a=$(i).offset(),l=r?$(r).offset():{left:a.left-t.x-n.x,top:$(forum).offset().top-t.y-n.y},a&&l)&&(e&&(l.left=a.left-n.x-2*t.x,l.top-=n.y+t.y),d=$(self.canvasVert).offset(),canvasVert.width=Math.min(n.x,a.left-l.left),canvasVert.height=a.top-l.top-n.y/2,canvasVert.style.top=l.top+n.y+t.y+"px",canvasVert.style.left=l.left-n.x-t.x+"px",canvasHorz.width=Math.max(a.left-l.left-n.x/2-t.x,1),canvasHorz.height=n.y,canvasHorz.style.top=a.top+t.y+"px",canvasHorz.style.left=l.left-n.x-t.x+canvasVert.width/2+"px",$.browser.mozilla&&(canvasVert.style.top=l.top+n.y+3*t.y+"px",canvasHorz.style.top=a.top+3*t.y+"px"),b?(u=f,self._interval=null,h()):(u=1,clearInterval(self._interval),self._interval=setInterval("forumNav.drawConnector()",p)))}}function h(){if(s(),i){var t=c+(1-c)*u/f;self.contextVert.lineWidth=self.contextHorz.lineWidth=1;self.contextVert.strokeStyle=self.contextHorz.strokeStyle="rgba("+w+","+t+")";self.contextVert.beginPath();self.contextVert.moveTo(canvasVert.width/2,0);self.contextVert.lineTo(canvasVert.width/2,canvasVert.height);self.contextVert.stroke();self.contextHorz.beginPath();self.contextHorz.moveTo(0,canvasHorz.height/2);self.contextHorz.lineTo(canvasHorz.width,canvasHorz.height/2);self.contextHorz.stroke();e&&(self.contextVert.beginPath(),self.contextVert.moveTo(n.x/4,n.y/4),self.contextVert.lineTo(n.x/2,0),self.contextVert.lineTo(n.x*3/4,n.y/4),self.contextVert.stroke());u++;u>f&&(o||s(),self._interval&&clearInterval(self._interval),i=null)}}var n={x:16,y:16},t={x:4,y:2},i=null,r=null,u=1,f=5,p=50,w="200,200,200",c=.2,l=!1,o=!1,e=!1,b=navigator.userAgent.indexOf("Chrome/")>=0;return{drawConnector:function(){h()},supportsCanvas:function(){return a(),canvasVert&&canvasVert.getContext},initialise:function(){var n=this;$(".message-link").bind("mouseover",d);$(".message-link").bind("mouseout",g);switchCallback=y},resize:function(){this.initialise()}}}();$(document).ready(function(){forumNav.supportsCanvas()&&(forumNav.initialise(),$(window).bind("resize",function(){forumNav.resize()}))}),function(n,t,i){"use strict";var u=function(){t(".rrssb-buttons").each(function(){var n=t(this),r=t("li",n).length,i=100/r;t("li",n).css("width",i+"%").attr("data-initwidth",i)})},o=function(){t(".rrssb-buttons").each(function(){var n=t(this),i=parseFloat(t(n).width()),r=t("li",n).not(".small").first().width(),u=t("li.small",n).length;r>170&&u<1?t(n).addClass("large-format"):t(n).removeClass("large-format");i<200?t(n).removeClass("small-format").addClass("tiny-format"):t(n).removeClass("tiny-format")})},s=function(){t(".rrssb-buttons").each(function(){var n=t(this),f=0,e=0,i,u,o=t("li.small",n).length,s,h,c;o===t("li",n).length?(s=o*42,h=parseFloat(t(n).width()),i=t("li.small",n).first(),u=parseFloat(t(i).attr("data-size"))+55,s+u<h&&(t(n).removeClass("small-format"),t("li.small",n).first().removeClass("small"),r())):(t("li",n).not(".small").each(function(){var n=parseFloat(t(this).attr("data-size"))+55,i=parseFloat(t(this).width());f=f+i;e=e+n}),c=f-e,i=t("li.small",n).first(),u=parseFloat(t(i).attr("data-size"))+55,u<c&&(t(i).removeClass("small"),r()))})},e=function(n){t(".rrssb-buttons").each(function(){var n=t(this),i=t("li",n).nextAll(),u=i.length;t(t("li",n).get().reverse()).each(function(i,u){var f,e,o;t(this).hasClass("small")===!1&&(f=parseFloat(t(this).attr("data-size"))+55,e=parseFloat(t(this).width()),f>e&&(o=t("li",n).not(".small").last(),t(o).addClass("small"),r()));--u||s()})});n===!0&&f(r)},r=function(){t(".rrssb-buttons").each(function(){var n=t(this),e,i,o,s,r,f=t("li.small",n).length;f>0&&f!==t("li",n).length?(t(n).removeClass("small-format"),t("li.small",n).css("width","42px"),o=f*42,e=t("li",n).not(".small").length,i=100/e,r=o/e,s=navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("Safari")>=0?"-webkit-calc("+i+"% - "+r+"px)":navigator.userAgent.indexOf("Firefox")>=0?"-moz-calc("+i+"% - "+r+"px)":"calc("+i+"% - "+r+"px)",t("li",n).not(".small").css("width",s)):f===t("li",n).length?(t(n).addClass("small-format"),u()):(t(n).removeClass("small-format"),u())});o()},h=function(){t(".rrssb-buttons").each(function(n){t(this).addClass("rrssb-"+(n+1))});u();t(".rrssb-buttons li .text").each(function(){var n=parseFloat(t(this).width());t(this).closest("li").attr("data-size",n)});e(!0)},f=function(n){t(".rrssb-buttons li.small").removeClass("small");e();n()},c=function(t,r,u,f){var e=n.screenLeft!==i?n.screenLeft:screen.left,o=n.screenTop!==i?n.screenTop:screen.top,s=n.innerWidth?n.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,h=n.innerHeight?n.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=s/2-u/2+e,l=h/3-f/3+o,a=n.open(t,r,"scrollbars=yes, width="+u+", height="+f+", top="+l+", left="+c);n.focus&&a.focus()},l=function(){var n={};return function(t,i,r){r||(r="Don't call this twice without a uniqueId");n[r]&&clearTimeout(n[r]);n[r]=setTimeout(t,i)}}();t(".rrssb-buttons a.popup").live("click",function(n){var i=t(this);c(i.attr("href"),i.find(".text").html(),580,470);n.preventDefault()});t(n).resize(function(){f(r);l(function(){f(r)},200,"finished resizing")});t(document).ready(function(){h()})}(window,jQuery);