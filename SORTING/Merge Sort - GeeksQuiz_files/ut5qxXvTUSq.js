if (self.CavalryLogger) { CavalryLogger.start_js(["oDagZ"]); }

__d("PagePluginActions",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PAGE_AVATAR:"page_avatar",PAGE_CTA:"page_cta",PAGE_LIKE:"page_like",PAGE_PERMALINK:"page_permalink",PAGE_SHARE:"page_share",PAGE_UNLIKE:"page_unlike"};},null);
__d("PagePluginActionTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLICK:"click"};},null);
__d("PluginConnectButtonType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BLUE_BASE:1,WHITE_BASE:2};},null);
__d('transferTextStyles',['Style'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={fontFamily:null,fontSize:null,fontStyle:null,fontWeight:null,lineHeight:null,wordWrap:null};function i(j,k){for(var l in h)if(h.hasOwnProperty(l))h[l]=c('Style').get(j,l);c('Style').apply(k,h);}f.exports=i;},null);
__d('TextMetrics',['DOM','Style','UserAgent','transferTextStyles'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){var k=j.clientWidth,l=c('Style').get(j,'-moz-box-sizing')=='border-box';if(l&&c('UserAgent').isBrowser('Firefox < 29'))return k;var m=c('Style').getFloat(j,'paddingLeft')+c('Style').getFloat(j,'paddingRight');return k-m;}function i(j,k){'use strict';this.$TextMetrics1=j;this.$TextMetrics2=!!k;var l='textarea',m='textMetrics';if(this.$TextMetrics2){l='div';m+=' textMetricsInline';}this.$TextMetrics3=c('DOM').create(l,{className:m});c('transferTextStyles')(j,this.$TextMetrics3);document.body.appendChild(this.$TextMetrics3);}i.prototype.measure=function(j){'use strict';var k=this.$TextMetrics1,l=this.$TextMetrics3;j=(j||k.value)+'...';if(!this.$TextMetrics2){var m=h(k);c('Style').set(l,'width',Math.max(m,0)+'px');}if(k.nodeName==='TEXTAREA'){l.value=j;}else c('DOM').setContent(l,j);return {width:l.scrollWidth,height:l.scrollHeight};};i.prototype.destroy=function(){'use strict';c('DOM').remove(this.$TextMetrics3);};f.exports=i;},null);
__d('TextInputControl',['DOMControl','Event','Input','debounce'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('DOMControl'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);var l=this.getRoot(),m=c('debounce')(this.update.bind(this),0);c('Event').listen(l,{input:m,keydown:m,paste:m});}j.prototype.setMaxLength=function(k){'use strict';c('Input').setMaxLength(this.getRoot(),k);return this;};j.prototype.getValue=function(){'use strict';return c('Input').getValue(this.getRoot());};j.prototype.isEmpty=function(){'use strict';return c('Input').isEmpty(this.getRoot());};j.prototype.setValue=function(k){'use strict';c('Input').setValue(this.getRoot(),k);this.update();return this;};j.prototype.clear=function(){'use strict';return this.setValue('');};j.prototype.setPlaceholderText=function(k){'use strict';c('Input').setPlaceholder(this.getRoot(),k);return this;};f.exports=j;},null);
__d('TextAreaControl',['Arbiter','ArbiterMixin','CSS','DOMControl','Event','Style','TextInputControl','TextMetrics','classWithMixins','mixin'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();function j(l,m){return c('Style').getFloat(l,m)||0;}h=babelHelpers.inherits(k,c('classWithMixins')(c('TextInputControl'),c('mixin')(c('ArbiterMixin'))));i=h&&h.prototype;function k(l){'use strict';i.constructor.call(this,l);this.autogrow=c('CSS').hasClass(l,'uiTextareaAutogrow');this.autogrowWithPlaceholder=c('CSS').hasClass(l,'uiTextareaAutogrowWithPlaceholder');this.width=null;c('Event').listen(l,'focus',this._handleFocus.bind(this));}k.prototype.setAutogrow=function(l){'use strict';this.autogrow=l;return this;};k.prototype.onupdate=function(){'use strict';i.onupdate.call(this);this.updateHeight();};k.prototype.updateHeight=function(){'use strict';if(this.autogrow){var l=this.getRoot();if(!this.metrics)this.metrics=new (c('TextMetrics'))(l);if(typeof this.initialHeight==='undefined'){this.isBorderBox=c('Style').get(l,'box-sizing')==='border-box'||c('Style').get(l,'-moz-box-sizing')==='border-box'||c('Style').get(l,'-webkit-box-sizing')==='border-box';this.borderBoxOffset=j(l,'padding-top')+j(l,'padding-bottom')+j(l,'border-top-width')+j(l,'border-bottom-width');this.initialHeight=l.offsetHeight-this.borderBoxOffset;}var m=null;if((!l.value||l.value.length===0)&&this.autogrowWithPlaceholder){m=this.metrics.measure(l.placeholder);}else m=this.metrics.measure();var n=Math.max(this.initialHeight,m.height);if(this.isBorderBox)n+=this.borderBoxOffset;if(this.maxHeight&&n>this.maxHeight){n=this.maxHeight;c('Arbiter').inform('maxHeightExceeded',{textArea:l});}if(n!==this.height){this.height=n;c('Style').set(l,'height',n+'px');c('Arbiter').inform('reflow');this.inform('resize');}}else if(this.metrics){this.metrics.destroy();this.metrics=null;}};k.prototype.resetHeight=function(){'use strict';this.height=-1;this.update();};k.prototype.setMaxHeight=function(l){'use strict';this.maxHeight=l;};k.prototype.setAutogrowWithPlaceholder=function(l){'use strict';this.autogrowWithPlacedholder=l;};k.prototype._handleFocus=function(){'use strict';this.width=null;};k.getInstance=function(l){'use strict';return c('DOMControl').getInstance(l)||new k(l);};f.exports=k;},null);
__d('PluginCSSReflowHack',['Style'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={trigger:function(i){setTimeout(function(){var j='border-bottom-width',k=c('Style').get(i,j);c('Style').set(i,j,parseInt(k,10)+1+'px');var l=i.offsetHeight;c('Style').set(i,j,k);return l;},1000);}};f.exports=h;},null);
__d('PluginFlyout',['csx','Arbiter','Button','CSS','DOM','DOMEvent','DOMEventListener','Focus','FormSubmit','Plugin','TextAreaControl'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('Arbiter').SUBSCRIBE_NEW,j=c('Arbiter').subscribe,k=c('Arbiter').inform,l=function(n,o){return c('DOMEventListener').add(n,'click',o);};function m(n,o,p){var q=this,r=j(c('Plugin').CONNECT,function(event,s){c('Arbiter').unsubscribe(r);q.init(n,o,p);q.connect(event,s);},i);j(c('Plugin').DIALOG,function(){q.init(n,o,p);q.toggle();},i);}Object.assign(m.prototype,{init:function(n,o,p){if(this.initialized)return;this.initialized=true;c('DOM').appendContent(n,JSON.parse(p));var q=c('DOM').find(n,'form'),r=c('DOM').find(q,"._56zw"),s=c('DOM').find(q,"._56zx"),t=c('DOM').find(q,"._42x4"),u=c('TextAreaControl').getInstance(t);c('DOMEventListener').add(t,'keyup',function(y){c('Button').setEnabled(r,!!u.getValue());});c('DOMEventListener').add(window,'keydown',function(y){if(y.keyCode===27)w();});c('DOMEventListener').add(q,'submit',function(y){new (c('DOMEvent'))(y).kill();c('FormSubmit').send(q);});var v=o==='tiny'?c('DOM').find(document.body,'.pluginPostFlyoutPrompt'):null;this.flyout=n;this.form=q;this.post_button=r;this.prompt=v;var w=this.hide.bind(this),x=this.show.bind(this);l(s,function(y){new (c('DOMEvent'))(y).kill();w();});if(v)l(v,function(y){new (c('DOMEvent'))(y).kill();x();});j(c('Plugin').CONNECT,this.connect.bind(this),i);j(c('Plugin').DISCONNECT,function(){w();},i);j(m.SUCCESS,function(){w();if(v)c('CSS').hide(v);},i);j(c('Plugin').ERROR,function(event,y){if(y.action!=='comment')return;c('DOM').setContent(c('DOM').find(q,"._56zy"),y.content);c('CSS').hide(r);},i);},connect:function(event,n){if(n.crossFrame)return;if(this.prompt)c('CSS').show(this.prompt);if(!n.story_fbid)this.show();},show:function(){this.shown=true;c('CSS').show(this.flyout);c('CSS').show(this.post_button);var n=c('DOM').scry(this.form,"._5jjo");if(n){c('Focus').set(n[0]);}else c('Focus').set(this.form.comment);k(m.SHOW);},hide:function(){this.shown=false;c('CSS').hide(this.flyout);k(m.HIDE);},toggle:function(){if(this.shown){this.hide();}else this.show();}});Object.assign(m,{SUCCESS:'platform/plugins/flyout/success',SHOW:'platform/plugins/flyout/show',HIDE:'platform/plugins/flyout/hide',success:function(){k(m.SUCCESS);}});f.exports=m;},null);
__d('PluginConnectButton',['csx','cx','Arbiter','CSS','DOM','DOMDimensions','DOMEvent','DOMEventListener','Focus','FormSubmit','PlatformWidgetEndpoint','Plugin','PluginConnectButtonType','PluginFlyout','PluginOptin','Style','URI','getElementPosition'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('Arbiter').SUBSCRIBE_NEW,k=c('Arbiter').subscribe,l=function(n,o){return c('DOMEventListener').add(n,'click',o);};function m(n){this.config=n;this.busy=false;var o=c('DOM').find(n.form,'.pluginConnectButton');this.buttons=o;this.node_connected=c('DOM').find(o,'.pluginConnectButtonConnected');this.node_disconnected=c('DOM').find(o,'.pluginConnectButtonDisconnected');var p=function(r){new (c('DOMEvent'))(r).kill();if(!this.busy){this.submit();this.busy=this.canpersonalize;}}.bind(this);l(this.node_disconnected,p);if(n.buttontype===c('PluginConnectButtonType').BLUE_BASE){l(c('DOM').find(o,'.pluginButtonX button'),p);}else if(n.buttontype===c('PluginConnectButtonType').WHITE_BASE)l(this.node_connected,p);l(this.node_connected,function(r){return c('Arbiter').inform(c('Plugin').DIALOG,r);});var q=this.update.bind(this);k(c('Plugin').CONNECT,q,j);k(c('Plugin').DISCONNECT,q,j);k(c('Plugin').ERROR,this.error.bind(this),j);k('Connect.Unsafe.xd/reposition',this.flip.bind(this));k(c('PluginFlyout').HIDE,this.hideFlyout.bind(this));if(n.autosubmit)setTimeout(this.submit.bind(this),0);}Object.assign(m.prototype,{update:function(n,event){this.busy=false;var o=this.config;if(event.identifier!==o.identifier)return;var p=n===c('Plugin').CONNECT,q=c('PlatformWidgetEndpoint').plugins(o.plugin);q+='/'+(!p?'connect':'disconnect');c('CSS')[p?'show':'hide'](this.node_connected);c('CSS')[p?'hide':'show'](this.node_disconnected);try{if(document.activeElement.nodeName.toLowerCase()==='button'){var s=p?this.node_connected:this.node_disconnected,t=c('DOM').find(s,'button');t.disabled=false;c('Focus').set(t);}}catch(r){}o.connected=p;o.form.setAttribute('action',q);o.form.setAttribute('ajaxify',q);},error:function(event,n){this.busy=false;if(n.action in {connect:1,disconnect:1}){c('DOM').setContent(this.buttons,n.content);var o=c('DOM').scry(this.buttons,'.confirmButton');if(o.length===1)c('Focus').set(o[0]);}},submit:function(){if(!this.config.canpersonalize)return this.login();c('FormSubmit').send(this.config.form);this.fireStateToggle();},fireStateToggle:function(){var n=this.config;if(n.connected){c('Plugin').disconnect(n.identifier);}else c('Plugin').connect(n.identifier);},login:function(){var n=this.config.plugin;new (c('PluginOptin'))(n,c('URI').getRequestURI().getQueryData().api_key).addReturnParams({act:'connect'}).addLoginParams({social_plugin_action:this.config.pluginaction}).start();},flip:function(n,o){var p=c('DOM').scry(document.body,"._4xn8");if(p.length===0){return;}else p=p[0];var q=c('DOM').scry(this.config.form,'.pluginConnectButtonConnected .pluginButtonIcon'),r=c('Style').get(q[0],'display')!=='none'?q[0]:q[1],s=c('DOM').find(document.body,'.pluginConnectButtonLayoutRoot'),t;if(o.type==='reposition'){c('CSS').addClass(s,"_1f8a");c('Style').set(s,'padding-left',450-s.offsetWidth+'px');c('CSS').removeClass(s,"_1f8b");t=c('getElementPosition')(r).x+c('DOMDimensions').getElementDimensions(r).width/2-6;}else{c('CSS').addClass(s,"_1f8b");c('Style').set(s,'padding-left','0px');c('CSS').removeClass(s,"_1f8a");t=6;}c('Style').set(p,'left',t+'px');},hideFlyout:function(){c('Focus').set(this.connected?this.node_disconnected:this.node_connected);}});f.exports=m;},null);
__d('PluginConnection',['Arbiter','CSS','Plugin'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){};Object.assign(h.prototype,{init:function(i,j,k,event){event=event||c('Plugin').CONNECT;this.identifier=i;this.element=j;this.css=k;c('Arbiter').subscribe([c('Plugin').CONNECT,c('Plugin').DISCONNECT],function(l,m){if(i===m.href)c('CSS')[l===event?'addClass':'removeClass'](j,k);return true;});return this;},connected:function(){return c('CSS').hasClass(this.element,this.css);},connect:function(){return c('Arbiter').inform(c('Plugin').CONNECT,{href:this.identifier},c('Arbiter').BEHAVIOR_STATE);},disconnect:function(){return c('Arbiter').inform(c('Plugin').DISCONNECT,{href:this.identifier},c('Arbiter').BEHAVIOR_STATE);},toggle:function(){return this.connected()?this.disconnect():this.connect();}});h.init=function(i){for(var j,k=0;k<i.length;k++){j=new h();j.init.apply(j,i[k]);}};f.exports=h;},null);
__d('PluginPageActionLogger',['BanzaiLogger','DOM','Event','PagePluginActions','PagePluginActionTypes'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={initializeClickLoggers:function(i,j,k,l,m,n,o,p,q,r){var s=function(t,u){try{var w=c('DOM').find(l,'.'+t);c('Event').listen(w,'click',function(x){c('BanzaiLogger').log('PagePluginActionsLoggerConfig',{page_id:j,page_plugin_action:u,page_plugin_action_type:c('PagePluginActionTypes').CLICK,referer_url:k,is_sdk:i});});}catch(v){}};s(m,c('PagePluginActions').PAGE_LIKE);s(n,c('PagePluginActions').PAGE_UNLIKE);s(o,c('PagePluginActions').PAGE_AVATAR);s(p,c('PagePluginActions').PAGE_PERMALINK);s(q,c('PagePluginActions').PAGE_SHARE);s(r,c('PagePluginActions').PAGE_CTA);}};f.exports=h;},null);