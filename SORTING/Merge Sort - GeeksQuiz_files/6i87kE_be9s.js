if (self.CavalryLogger) { CavalryLogger.start_js(["nffUO"]); }

__d("EmbeddedPostPluginActions",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EMBEDDED_POSTS_COMMENT:"embedded_post_comment",EMBEDDED_POSTS_LIKE:"embedded_post_like",EMBEDDED_POSTS_SHARE:"embedded_post_share",EMBEDDED_POSTS_UNLIKE:"embedded_post_unlike"};},null);
__d("EmbeddedPostPluginActionTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLICK:"click"};},null);
__d('TestPostPluginActionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:TestPostPluginActionsLoggerConfig',this.$TestPostPluginActionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:TestPostPluginActionsLoggerConfig',this.$TestPostPluginActionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$TestPostPluginActionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$TestPostPluginActionsTypedLogger1=babelHelpers['extends']({},this.$TestPostPluginActionsTypedLogger1,j);return this;};h.prototype.setEmbeddedPostAction=function(j){this.$TestPostPluginActionsTypedLogger1.embedded_post_action=j;return this;};h.prototype.setEmbeddedPostActionType=function(j){this.$TestPostPluginActionsTypedLogger1.embedded_post_action_type=j;return this;};h.prototype.setEmbeddedPostSource=function(j){this.$TestPostPluginActionsTypedLogger1.embedded_post_source=j;return this;};h.prototype.setIsSDK=function(j){this.$TestPostPluginActionsTypedLogger1.is_sdk=j;return this;};h.prototype.setPluginAppID=function(j){this.$TestPostPluginActionsTypedLogger1.plugin_app_id=j;return this;};h.prototype.setRefererURL=function(j){this.$TestPostPluginActionsTypedLogger1.referer_url=j;return this;};h.prototype.setStoryToken=function(j){this.$TestPostPluginActionsTypedLogger1.story_token=j;return this;};h.prototype.setVC=function(j){this.$TestPostPluginActionsTypedLogger1.vc=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$TestPostPluginActionsTypedLogger1=babelHelpers['extends']({},this.$TestPostPluginActionsTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={embedded_post_action:true,embedded_post_action_type:true,embedded_post_source:true,is_sdk:true,plugin_app_id:true,referer_url:true,story_token:true,vc:true};f.exports=h;},null);
__d('AsyncFormRequestUtils',['Arbiter'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={subscribe:function(i,j,k){c('Arbiter').subscribe('AsyncRequest/'+j,function(l,m){var n=m.request.relativeTo;if(n&&n===i)k(m);});}};f.exports=h;},null);
__d('PluginTabLoadMore',['CSS','Event'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={noMoreContent:function(){c('Event').fire(this.root,'noMoreContent');c('CSS').hide(this.spinner);},setCursor:function(i){c('Event').fire(this.root,'setCursor',i);},init:function(i,j){this.root=i;this.spinner=j;}};f.exports=h;},null);
__d("XPostPluginLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/platform\/plugin\/post\/logging\/",{});},null);
__d('PluginFeedFooterActionLogger',['AsyncRequest','DOM','EmbeddedPostPluginActions','EmbeddedPostPluginActionTypes','Event','TestPostPluginActionsTypedLogger','XPostPluginLoggingController'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={initializeClickLoggers:function(i,j,k,l,m,n,o,p,q){var r=function(s,t){try{var v=c('DOM').find(i,'.'+s);c('Event').listen(v,'click',function(w){new (c('TestPostPluginActionsTypedLogger'))().setEmbeddedPostAction(t).setEmbeddedPostActionType(c('EmbeddedPostPluginActionTypes').CLICK).setEmbeddedPostSource(n).setStoryToken(o).setRefererURL(p).setIsSDK(q).logVital();new (c('AsyncRequest'))().setURI(c('XPostPluginLoggingController').getURIBuilder().getURI()).setData({action:t,action_type:c('EmbeddedPostPluginActionTypes').CLICK,source:n,story_token:o,referer_url:p,is_sdk:q}).send();});}catch(u){}};r(j,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_LIKE);r(k,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_UNLIKE);r(l,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_COMMENT);r(m,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_SHARE);}};f.exports=h;},null);
__d('PluginFeedLikeButton',['Arbiter','AsyncFormRequestUtils','ClientIDs','CSS','DOM','DOMEventListener','FBFeedLocations','FormSubmit','Keys','PluginOptin','URI'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();window.resetConfirmStoryLike=function(i){c('CSS').show(c('DOM').find(document,'#likeStory_'+i));c('DOM').remove(c('DOM').find(document,'#confirmStory_'+i));};var h={addClientId:function(i){i.setAttribute('value',c('ClientIDs').getNewClientID());},loggedOutLikeButton:function(i,j,k){var l='';if(j===c('FBFeedLocations').EMBED){l='post';}else if(j===c('FBFeedLocations').PAGE_PLUGIN){l='page';}else throw new Error('Invalid FBFeedLocation type.');var m=new (c('PluginOptin'))(l).addReturnParams({act:'like_'+i});c('DOMEventListener').add(k,'click',m.start.bind(m));},init:function(i,j,k,l,m){var n=function(q){if(q.type==='keypress')if(q.keyCode===c('Keys').RETURN||q.keyCode===c('Keys').SPACE){c('FormSubmit').send(m);}else return;c('FormSubmit').send(m);};c('DOMEventListener').add(j,'click',n);c('DOMEventListener').add(k,'click',n);c('DOMEventListener').add(j,'keypress',n);c('DOMEventListener').add(k,'keypress',n);var o=l.getAttribute('value')==='1';c('AsyncFormRequestUtils').subscribe(m,'send',function(q){var r=l.getAttribute('value')==='1';c('CSS').conditionShow(k,r);c('CSS').conditionShow(j,!r);c('Arbiter').inform('embeddedUfiToggle',{isLike:r,storyToken:i});l.setAttribute('value',r?'':'1');});c('AsyncFormRequestUtils').subscribe(m,'response',function(q){var r=q.response.payload;if(r&&!r.success){var s=r.isLike;c('CSS').conditionShow(j,s);c('CSS').conditionShow(k,!s);c('Arbiter').inform('revertLike',{isLike:s,storyToken:i});l.setAttribute('value',s?'1':'');}});var p=new (c('URI'))(window.location.search).getQueryData();if(o&&p.act==='like_'+i)c('FormSubmit').send(m);}};f.exports=h;},null);